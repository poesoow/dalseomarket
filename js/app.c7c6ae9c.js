(function(){"use strict";var e={3314:function(e,t,a){var n=a(9242),o=a(3396);const s=(0,o._)("div",{class:"m-0 p-0 w-screen h-screen",id:"map"},null,-1);function i(e,t,a,n,i,l){const r=(0,o.up)("Dalseo");return(0,o.wg)(),(0,o.iD)(o.HY,null,[s,(0,o._)("div",null,[(0,o.Wm)(r,{locationObject:i.LocationObject,onPassloc:t[0]||(t[0]=e=>{l.passloc(e),l.panTo(e)}),isDalseoMenuOpen:i.dalseomenu,onMenuopen:t[1]||(t[1]=e=>l.menuopen())},null,8,["locationObject","isDalseoMenuOpen"])])],64)}var l=a(7139),r=a.p+"img/daegu.8ee64168.png";const m={class:"rounded-2xl bg-white w-[360px] h-[95vh] shadow-xl"},d={class:"py-7 px-6 rounded-t-2xl bg-blue-700"},c=(0,o._)("h2",{class:"text-white tracking-wide"},[(0,o._)("img",{class:"inline-block h-[2rem] align-text-bottom",src:r,alt:"대구로고"}),(0,o._)("span",null," 대구광역시 달서구 "),(0,o._)("span",{class:"text-2xl"},"전통시장")],-1),u={class:"bg-white mt-4 pt-3 pb-2 px-1 rounded-md"},p=(0,o._)("select",{class:"outline-none align-text-top",name:"",id:""},[(0,o._)("option",{value:""},"상점명"),(0,o._)("option",{value:""},"대표품목")],-1),f=(0,o._)("input",{class:"rounded-lg w-3/5 outline-none mx-2 pl-1 placeholder:text-sm focus:outline-none focus:border-blue-600 focus:ring-blue-600 focus:ring-2",type:"text",placeholder:"상점명을 입력해주세요"},null,-1),h={class:"align-text-top text-blue-600"},g={class:"pt-7 px-6"},k=(0,o._)("h2",{class:"text-xl text-center tracking-wide"},"전통시장",-1),w={class:"mt-4 grid grid-cols-2 gap-3 text-center text-sm"},v=["onClick"],b={class:"relative"},y={class:"pt-7 px-6"},_=(0,o._)("h2",{class:"text-xl text-center tracking-wide border-b text-blue-600"},"상가분류",-1),x={class:"flex justify-between py-2"},M=["onClick"],O={class:"pt-4 px-6"},C=(0,o._)("h2",{class:"text-xl text-center tracking-wide border-b text-blue-600"},"상가목록",-1),D={class:"flex flex-col gap-4"},E={class:"text-lg"},L={class:"text-sm"},S={class:"w-[48%] inline-block text-lg"},I={class:"w-[48%] inline-block text-right mb-1"},N=["onClick"];function j(e,t,a,n,s,i){const r=(0,o.up)("font-awesome-icon"),j=(0,o.up)("StoreModal");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:(0,l.C_)([!0===this.isDalseoMenuOpen&&"!left-4","flex gap-2 flex-row-reverse fixed top-4 -left-[360px] transition-all duration-500 z-50"])},[(0,o._)("div",{onClick:t[0]||(t[0]=t=>e.$emit("menuopen")),class:"w-fit text-blue-800 text-5xl cursor-pointer"},[(0,o.Wm)(r,{icon:"fa-shop"})]),(0,o._)("div",m,[(0,o._)("div",d,[c,(0,o._)("div",u,[p,f,(0,o._)("button",h,[(0,o.Wm)(r,{icon:"fa-magnifying-glass"})])])]),(0,o._)("div",g,[k,(0,o._)("ul",w,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(s.itemList,((t,a)=>((0,o.wg)(),(0,o.iD)("li",{key:t,onClick:n=>{e.$emit("passloc",{lat:t.lat,lot:t.lot,marketName:t.marketName}),i.getMarketInfo(t.marketName),i.selectMarket(a)},class:(0,l.C_)([s.focusOn&&s.num===a?"text-blue-700 font-bold":"text-black","border border-blue-100 py-1 hover:font-bold"])},[(0,o._)("div",null,(0,l.zw)(t.marketName),1)],10,v)))),128))])])])],2),(0,o._)("div",{class:(0,l.C_)([s.isMarketInfoOpen?"right-0":"right-[-400px]","bg-white fixed top-0 w-[400px] h-[100vh] z-50 overflow-y-scroll transition-all duration-500"])},[(0,o._)("div",b,[(0,o._)("div",y,[_,(0,o._)("ul",x,[(0,o._)("li",{onClick:t[1]||(t[1]=e=>s.storeClassify="전체")},"전체"),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.storeClassifyList,(e=>((0,o.wg)(),(0,o.iD)("li",{onClick:t=>s.storeClassify=e.storeClassify,key:e},(0,l.zw)(e.storeClassify),9,M)))),128))])]),(0,o._)("div",O,[C,(0,o._)("ul",D,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.storeClassifyItem,(e=>((0,o.wg)(),(0,o.iD)("li",{class:"border",key:e},[(0,o._)("h3",E,(0,l.zw)(e.storeName),1),(0,o._)("div",L,(0,l.zw)(e.roadNmAddr),1),(0,o._)("div",S,(0,l.zw)(e.mainItem),1),(0,o._)("div",I,[(0,o._)("button",{onClick:t=>{s.showModal=!s.showModal,s.modalStoreData={"상점명":e.storeName,"도로명 주소":e.roadNmAddr,"지번 주소":e.lotnoAddr,lat:e.lat,lot:e.lot}},class:"bg-indigo-500 hover:bg-indigo-600 focus:outline-none rounded-md px-6 py-0.5 mx-auto text-white transition duration-500 ease-in-out"},"추가정보 정보",8,N)])])))),128))])]),(0,o._)("button",{onClick:t[2]||(t[2]=e=>s.isMarketInfoOpen=!1),class:"absolute top-1 right-1"},"닫기")])],2),(0,o.Wm)(j,{showModal:s.showModal,modalStoreData:s.modalStoreData,onCloseModal:t[3]||(t[3]=e=>s.showModal=!1)},null,8,["showModal","modalStoreData"])])}var z=a(4161),W=JSON.parse('[{"name":"대구예전우시장","nameEn":"DaeguOldCow"},{"name":"대동시장","nameEn":"Daedong"},{"name":"도원시장","nameEn":"Dowon"},{"name":"두류젊음의광장","nameEn":"DuryuYoungPlaza"},{"name":"두류종합시장","nameEn":"DuryuGeneral"},{"name":"상원시장","nameEn":"Sangwon"},{"name":"서남시장","nameEn":"Seonam"},{"name":"서남신시장","nameEn":"SeonamNeo"},{"name":"성서아울렛상점가(가로형)","nameEn":"SeongseoOutletStreet"},{"name":"성서와룡시장","nameEn":"SeongseoWaryong"},{"name":"성서용산시장","nameEn":"SeongseoYongsan"},{"name":"송경종합시장","nameEn":"SonggyongGeneral"},{"name":"신내당시장","nameEn":"NaedangNeo"},{"name":"용산종합큰시장","nameEn":"YongsanGeneral"},{"name":"월배시장","nameEn":"Wolbae"},{"name":"월배신시장","nameEn":"WolbaeNeo"},{"name":"월촌역시장(송현주공시장)","nameEn":"WolchonStation"},{"name":"신내당시장상점가","nameEn":"NaedangNeoStreet"},{"name":"달서시장","nameEn":"DalseoMarket"},{"name":"대곡시장","nameEn":"Daegok"},{"name":"두류신시장","nameEn":"DuryuNeo"},{"name":"보성은하상가","nameEn":"BoseongEunha"},{"name":"상인영남상가","nameEn":"SanginYoungnam"},{"name":"서대구시장","nameEn":"WestDaegu"},{"name":"성서보성화성상가","nameEn":"SeongseoBoseongHwaseong"},{"name":"월성청구시장","nameEn":"WolseongChunggu"},{"name":"달서송림시장","nameEn":"DalseoSonglim"}]');const $={class:"z-50"},P={class:"flex items-center justify-center absolute h-screen w-screen top-0 left-0"},B={key:0,class:"z-[70] relative w-11/12 lg:w-full max-w-xl mx-auto bg-white flex flex-col self-center shadow-2xl rounded-md"},T={class:"p-6 border-b-4 border-gray-200 text-lg font-bold text-indigo-400"},Y={class:"p-6"},K=(0,o._)("div",null,[(0,o._)("div",{class:"bg-slate-200 inline-block mr-1",id:"storeMap",style:{width:"48%",height:"300px"}}),(0,o._)("div",{class:"bg-slate-200 inline-block",id:"roadview",style:{width:"48%",height:"300px"}})],-1),A={class:"border-t-4 border-gray-200 p-6 flex justify-end"},R={key:0,class:"bg-gray-700 bg-opacity-50 fixed bottom-0 left-0 w-full h-full transition duration-500 ease-in-out transfom z-[60]"};function Z(e,t,a,s,i,r){return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",$,[(0,o._)("div",P,[(0,o.Wm)(n.uT,{name:"custom","enter-active-class":"animate__animated animate__bounceInDown","leave-active-class":"animate__animated animate__bounceOutUp"},{default:(0,o.w5)((()=>[a.showModal?((0,o.wg)(),(0,o.iD)("div",B,[(0,o._)("div",T,(0,l.zw)(a.modalStoreData["상점명"]),1),(0,o._)("div",Y,[(0,o._)("div",null,(0,l.zw)(a.modalStoreData["도로명 주소"]),1),(0,o._)("div",null,(0,l.zw)(a.modalStoreData["지번 주소"]),1),(0,o._)("div",{class:"inline-block w-[48%] mr-1",onClick:t[0]||(t[0]=e=>r.storeMap())},"지도보기"),(0,o._)("div",{class:"inline-block w-[48%]",onClick:t[1]||(t[1]=e=>r.storeroadmap())},"도로뷰보기"),K]),(0,o._)("div",A,[(0,o._)("button",{onClick:t[2]||(t[2]=t=>e.$emit("closeModal")),class:"bg-green-400 hover:bg-green-500 focus:outline-none px-4 py-2 rounded-md text-white transition duration-500 ease-in-out"},"Close Modal")])])):(0,o.kq)("",!0)])),_:1}),(0,o.Wm)(n.uT,{name:"custom","enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:(0,o.w5)((()=>[a.showModal?((0,o.wg)(),(0,o.iD)("div",R)):(0,o.kq)("",!0)])),_:1})])])])}var F={name:"StoreModal",data(){return{}},props:{showModal:Boolean,modalStoreData:Object},methods:{storeroadmap(){const e=this.modalStoreData["lot"],t=this.modalStoreData["lat"];var a=document.getElementById("roadview"),n=new window.kakao.maps.Roadview(a),o=new window.kakao.maps.RoadviewClient,s=new window.kakao.maps.LatLng(t,e);o.getNearestPanoId(s,50,(function(e){n.setPanoId(e,s)}))},storeMap(){const e=this.modalStoreData["lot"],t=this.modalStoreData["lat"],a=document.getElementById("storeMap"),n={center:new window.kakao.maps.LatLng(t,e),level:3};this.map=new window.kakao.maps.Map(a,n);var o=new window.kakao.maps.LatLng(t,e),s=new window.kakao.maps.Marker({position:o});s.setMap(this.map)}}},G=a(89);const H=(0,G.Z)(F,[["render",Z]]);var U=H,q={name:"App",data(){return{dalseomykey:"vZqohu%2F1a1mKILW%2BslUEpMtWGBv0IvvlkE7zB28hKgPXkvzNMi9%2F2sawykKToWPc%2F%2FNeUM9rnQykkPu%2FLdPlpQ%3D%3D",pageNo:"1",numOfRows:"100",totalCount:"",itemList:[],market:W,marketitemlist:[],storeClassify:"전체",modalStoreData:{},isMarketInfoOpen:!1,showModal:!1,focusOn:!1,num:null}},props:{isDalseoMenuOpen:Boolean,locationObject:Object},components:{StoreModal:U},created(){z.Z.get(`https://apis.data.go.kr/3470000/dalseoMarket/viewMarketList?serviceKey=${this.dalseomykey}&pageNo=${this.pageNo}&numOfRows=${this.numOfRows}`).then((e=>{this.totalCount=e.data.body.totalCount,this.itemList=e.data.body.items.item})).catch((e=>{console.log(e)}))},methods:{selectMarket(e){!1===this.focusOn?(this.focusOn=!this.focusOn,this.num=e):this.num=e},getMarketInfo(e){this.isMarketInfoOpen||(this.isMarketInfoOpen=!this.isMarketInfoOpen);const t=e;let a="";W.filter((e=>{e.name===t&&(a=e.nameEn)})),z.Z.get(`https://apis.data.go.kr/3470000/dalseoMarket/viewStoreListIn${a}?serviceKey=${this.dalseomykey}`).then((e=>{this.marketTotalCount=e.data.body.totalCount,z.Z.get(`https://apis.data.go.kr/3470000/dalseoMarket/viewStoreListIn${a}?serviceKey=${this.dalseomykey}&numOfRows=${this.marketTotalCount}`).then((e=>{this.marketitemlist=e.data.body.items.item})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)}))}},computed:{storeClassifyList(){return this.marketitemlist.filter(((e,t)=>this.marketitemlist.findIndex((t=>e.storeClassify===t.storeClassify))===t))},storeClassifyItem(){return this.marketitemlist.filter((e=>"전체"!==this.storeClassify?e.storeClassify===this.storeClassify:e.storeClassify))}}};const Q=(0,G.Z)(q,[["render",j]]);var V=Q,J={data(){return{mykey:{NODE_ENV:"production",BASE_URL:"/dalseomarket/"}.VUE_APP_API_KEY,dalseomenu:!1,LocationObject:{}}},components:{Dalseo:V},mounted(){if(window.kakao&&window.kakao.maps)this.initMap();else{const e=document.createElement("script");e.onload=()=>kakao.maps.load(this.initMap),e.src=`//dapi.kakao.com/v2/maps/sdk.js?autoload=false&appkey=${this.mykey}`,document.head.appendChild(e)}},methods:{initMap(){const e=document.getElementById("map"),t={center:new kakao.maps.LatLng(35.82937620632367,128.53256501704902),level:6};this.map=new kakao.maps.Map(e,t)},panTo(e){var t=new kakao.maps.LatLng(e.lat,e.lot);this.map.panTo(t)},menuopen(){this.dalseomenu?this.dalseomenu=!1:this.dalseomenu=!0},passloc(e){this.LocationObject=e;var t=new kakao.maps.LatLng(this.LocationObject.lat,this.LocationObject.lot),a=new kakao.maps.Marker({position:t});a.setMap(this.map);var n=`<div style="padding:5px;">${this.LocationObject.marketName}</div>`,o=new kakao.maps.LatLng(this.LocationObject.lat,this.LocationObject.lot),s=new kakao.maps.InfoWindow({position:o,content:n});s.open(this.map,a)}}};const X=(0,G.Z)(J,[["render",i]]);var ee=X,te=a(3494),ae=a(7749),ne=a(8539);te.vI.add(ne.BC0,ne.Y$T,ne.YyO),(0,n.ri)(ee).component("font-awesome-icon",ae.GN).mount("#app")}},t={};function a(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,a),s.exports}a.m=e,function(){var e=[];a.O=function(t,n,o,s){if(!n){var i=1/0;for(d=0;d<e.length;d++){n=e[d][0],o=e[d][1],s=e[d][2];for(var l=!0,r=0;r<n.length;r++)(!1&s||i>=s)&&Object.keys(a.O).every((function(e){return a.O[e](n[r])}))?n.splice(r--,1):(l=!1,s<i&&(i=s));if(l){e.splice(d--,1);var m=o();void 0!==m&&(t=m)}}return t}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[n,o,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.p="/dalseomarket/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,i=n[0],l=n[1],r=n[2],m=0;if(i.some((function(t){return 0!==e[t]}))){for(o in l)a.o(l,o)&&(a.m[o]=l[o]);if(r)var d=r(a)}for(t&&t(n);m<i.length;m++)s=i[m],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(d)},n=self["webpackChunkdalseomarket"]=self["webpackChunkdalseomarket"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(3314)}));n=a.O(n)})();
//# sourceMappingURL=app.c7c6ae9c.js.map